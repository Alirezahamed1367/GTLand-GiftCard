# ğŸ“‹ Ø§Ù„Ø²Ø§Ù…Ø§Øª Ù†Ù‡Ø§ÛŒÛŒ Ø³ÛŒØ³ØªÙ… - GT-Land Manager

## âœ… Ù¾Ø§Ø³Ø® Ø³ÙˆØ§Ù„Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ

### 1ï¸âƒ£ Ø±ÛŒØª ÙØ±ÙˆØ´
- **Ù‡Ø± ÙØ±ÙˆØ´ Ø±ÛŒØª Ù…Ø¬Ø²Ø§ Ø¯Ø§Ø±Ø¯** âœ…
- Ø±ÛŒØª Ø¯Ø± Ø´ÛŒØª ÙØ±ÙˆØ´ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Ù…Ø«Ø§Ù„: 
  - ÙØ±ÙˆØ´ 1: 500 Gold @ 1:10,000 Robux
  - ÙØ±ÙˆØ´ 2: 500 Gold @ 1:12,000 Robux

### 2ï¸âƒ£ Ù†Ø±Ø® ØªÙ…Ø§Ù… Ø´Ø¯Ù‡
- **Ù‡Ø± Ø¢Ú©Ø§Ù†Øª = ÛŒÚ© Ø®Ø±ÛŒØ¯ ÛŒÚ©Ø¨Ø§Ø±Ù‡ Ø¨Ø§ ÛŒÚ© Ù†Ø±Ø® Ø«Ø§Ø¨Øª** âœ…
- Account Label ØªØºÛŒÛŒØ± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (Ù…Ú¯Ø± Ø´Ø§Ø±Ú˜ Ù…Ø¬Ø¯Ø¯)
- Ù†Ø±Ø® Ø®Ø±ÛŒØ¯ Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… ÙØ±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ø¢Ù† Ø¢Ú©Ø§Ù†Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
- **ÙØ±Ù…ÙˆÙ„ Ø³ÙˆØ¯:**
  ```
  Ø³ÙˆØ¯ = Ù‚ÛŒÙ…Øª ÙØ±ÙˆØ´ - (Ù…Ù‚Ø¯Ø§Ø± ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯Ù‡ Ã— Ù†Ø±Ø® Ø®Ø±ÛŒØ¯ Ø¢Ú©Ø§Ù†Øª)
  ```

### 3ï¸âƒ£ Ø´Ø§Ø±Ú˜ Ù…Ø¬Ø¯Ø¯ Ø¢Ú©Ø§Ù†Øª
- **Email Ø«Ø§Ø¨Øª Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯** âœ…
- **Label ØªØºÛŒÛŒØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯** (Ù…Ø«Ù„Ø§Ù‹ A1055 â†’ A1055-R2)
- **Ù…Ù‚Ø¯Ø§Ø± Ùˆ Ù†Ø±Ø® Ø¬Ø¯ÛŒØ¯** Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© Ø¢Ú©Ø§Ù†Øª Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ Email Ù‚Ø¨Ù„ÛŒ Ø§Ø³Øª

### 4ï¸âƒ£ Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø¯Ø§Ø®Øª Ù…Ø´ØªØ±ÛŒ
- **ØªÙ…Ø§Ù… ÙØ±ÙˆØ´â€ŒÙ‡Ø§ Ù†Ø³ÛŒÙ‡ Ø§Ø³Øª** âœ…
- Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ù‡ ØµÙˆØ±Øª **Tether** ÛŒØ§ **Toman**
- Ù‡Ø± Ù…Ø´ØªØ±ÛŒ ÛŒÚ© **Ú¯Ø±Ø¯Ø´ ØªÙØµÛŒÙ„ÛŒ** Ø¯Ø§Ø±Ø¯:
  ```
  ØªØ§Ø±ÛŒØ®    | Ø´Ø±Ø­              | Ø¨Ø¯Ù‡Ú©Ø§Ø±  | Ø¨Ø³ØªØ§Ù†Ú©Ø§Ø± | Ù…Ø§Ù†Ø¯Ù‡
  --------------------------------------------------------
  2025-12-01| ÙØ±ÙˆØ´ Roblox     | $100    | -        | $100
  2025-12-05| ÙˆØ§Ø±ÛŒØ² Tether    | -       | $50      | $50
  2025-12-10| ÙØ±ÙˆØ´ Apple      | $80     | -        | $130
  2025-12-15| ÙˆØ§Ø±ÛŒØ² Toman     | -       | $100     | $30
  ```

### 5ï¸âƒ£ ÙˆÛŒØ±Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡
- **ÙˆÛŒØ±Ø§ÛŒØ´ ÙÙ‚Ø· Ø§Ø² Google Sheets** âœ…
- Ø³Ù¾Ø³ Re-Import Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…
- ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ Ø¯Ø§Ø¯Ù‡ Ø­ÙØ¸ Ù…ÛŒâ€ŒØ´ÙˆØ¯
- Ø¯Ø± Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±: **ÙÙ‚Ø· Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ùˆ Ú¯Ø²Ø§Ø±Ø´**

### 6ï¸âƒ£ Export/Output
- **ÙØ±Ù…Øª ÙØ¹Ù„ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ù†ÛŒØ³Øª** âœ…
- Ù†ÛŒØ§Ø² Ø¨Ù‡ **Ø³ÛŒØ³ØªÙ… Template Ø³ÙØ§Ø±Ø´ÛŒ**
- Ú©Ø§Ø±Ø¨Ø± Ø¨ØªÙˆØ§Ù†Ø¯:
  - Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†Ø¯
  - ØªØ±ØªÛŒØ¨ Ø±Ø§ ØªØ¹ÛŒÛŒÙ† Ú©Ù†Ø¯
  - ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
  - Template Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†Ø¯

---

## ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… (Ù†Ù‡Ø§ÛŒÛŒ)

### ğŸ“Š Database Schema

#### Ø¬Ø¯ÙˆÙ„ `accounts`
```sql
id              INT PRIMARY KEY
label           VARCHAR UNIQUE  -- A1055, A1055-R2
email           VARCHAR         -- Ø«Ø§Ø¨Øª Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯
supplier        VARCHAR
created_at      DATETIME
is_active       BOOLEAN
notes           TEXT
```

#### Ø¬Ø¯ÙˆÙ„ `account_gold`
```sql
id              INT PRIMARY KEY
account_id      INT FOREIGN KEY â†’ accounts.id
quantity        DECIMAL         -- Ù…Ù‚Ø¯Ø§Ø± Ø®Ø±ÛŒØ¯
price_per_unit  DECIMAL         -- Ù†Ø±Ø® Ø®Ø±ÛŒØ¯ (Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¢Ú©Ø§Ù†Øª)
total_cost      DECIMAL         -- quantity Ã— price_per_unit
purchase_date   DATETIME
supplier        VARCHAR
```

#### Ø¬Ø¯ÙˆÙ„ `account_silver` (Ù…Ø´Ø§Ø¨Ù‡)
```sql
-- Ø³Ø§Ø®ØªØ§Ø± Ù…Ø´Ø§Ø¨Ù‡ account_gold
```

#### Ø¬Ø¯ÙˆÙ„ `sales`
```sql
id              INT PRIMARY KEY
label           VARCHAR         -- Ú©Ø¯Ø§Ù… Ø¢Ú©Ø§Ù†ØªØŸ
sale_type       VARCHAR         -- 'gold' ÛŒØ§ 'silver'
quantity        DECIMAL         -- Ú†Ù‡ Ù…Ù‚Ø¯Ø§Ø± ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯ØŸ
platform        VARCHAR         -- Roblox, Apple, ...
sale_rate       DECIMAL         -- Ø±ÛŒØª ÙØ±ÙˆØ´ (Ù…Ø«Ù„Ø§Ù‹ 10000 = 1:10k)
sale_amount     DECIMAL         -- Ù…Ø¨Ù„Øº Ø¯Ø±ÛŒØ§ÙØªÛŒ
cost_basis      DECIMAL         -- Ø¨Ù‡Ø§ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ (quantity Ã— Ù†Ø±Ø® Ø®Ø±ÛŒØ¯ Ø¢Ú©Ø§Ù†Øª)
profit          DECIMAL         -- sale_amount - cost_basis
customer_code   VARCHAR         -- Ú©Ø¯ Ù…Ø´ØªØ±ÛŒ
sale_date       DATETIME
notes           TEXT
```

#### Ø¬Ø¯ÙˆÙ„ `customers`
```sql
id                  INT PRIMARY KEY
code                VARCHAR UNIQUE  -- C001, C002, ...
name                VARCHAR
phone               VARCHAR
email               VARCHAR
total_purchases     INT             -- ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ø®Ø±ÛŒØ¯Ù‡Ø§
total_spent         DECIMAL         -- Ù…Ø¬Ù…ÙˆØ¹ Ø®Ø±Ø¬ Ú©Ø±Ø¯Ù‡ (Ø¨Ø¯Ù‡Ú©Ø§Ø±)
total_paid          DECIMAL         -- Ù…Ø¬Ù…ÙˆØ¹ Ù¾Ø±Ø¯Ø§Ø®Øª (Ø¨Ø³ØªØ§Ù†Ú©Ø§Ø±)
balance             DECIMAL         -- total_spent - total_paid
first_purchase_at   DATETIME
last_purchase_at    DATETIME
created_at          DATETIME
```

#### Ø¬Ø¯ÙˆÙ„ `payments` (Ø¬Ø¯ÛŒØ¯!)
```sql
id              INT PRIMARY KEY
customer_code   VARCHAR FOREIGN KEY
amount          DECIMAL
currency        VARCHAR         -- 'TETHER' ÛŒØ§ 'TOMAN'
exchange_rate   DECIMAL         -- Ù†Ø±Ø® ØªØ¨Ø¯ÛŒÙ„ (Ø§Ú¯Ø± TOMAN)
amount_usd      DECIMAL         -- Ù…Ø¹Ø§Ø¯Ù„ Ø¯Ù„Ø§Ø±
payment_date    DATETIME
receipt_number  VARCHAR         -- Ø´Ù…Ø§Ø±Ù‡ ÙÛŒØ´
notes           TEXT
created_at      DATETIME
```

---

## ğŸ”„ Ø¬Ø±ÛŒØ§Ù† Ú©Ø§Ø± Ø³ÛŒØ³ØªÙ…

### Ù…Ø±Ø­Ù„Ù‡ 1: Import Ø§Ø² Google Sheets

```python
# Ø´ÛŒØª Ø®Ø±ÛŒØ¯
columns: Label, Email, Supplier, Gold_Qty, Gold_Price, Silver_Qty, Silver_Price, Date

# Ø´ÛŒØª ÙØ±ÙˆØ´
columns: Label, Platform, Type, Quantity, Rate, Amount, Customer, Date

# Ø´ÛŒØª Ù¾Ø±Ø¯Ø§Ø®Øª
columns: Customer, Amount, Currency, ExchangeRate, ReceiptNo, Date
```

### Ù…Ø±Ø­Ù„Ù‡ 2: Field Mapping
Ú©Ø§Ø±Ø¨Ø± Ù†Ù‚Ø´ Ù‡Ø± Ø³ØªÙˆÙ† Ø±Ø§ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ø¯

### Ù…Ø±Ø­Ù„Ù‡ 3: Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø®ÙˆØ¯Ú©Ø§Ø±

```python
def process_purchase():
    # 1. Ø¨Ø±Ø±Ø³ÛŒ: Ø¢ÛŒØ§ Label ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯?
    existing = session.query(Account).filter_by(label=label).first()
    
    if existing and existing.email == new_email:
        # Ù‡Ù…Ø§Ù† Ø¢Ú©Ø§Ù†Øª Ø§Ø³Øª - Update Ù†Ú©Ù†!
        pass
    elif existing and existing.email != new_email:
        # Ø´Ø§Ø±Ú˜ Ù…Ø¬Ø¯Ø¯! Label Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²
        new_label = f"{base_label}-R{recharge_count}"
        create_new_account(new_label, new_email)
    else:
        # Ø¢Ú©Ø§Ù†Øª Ø¬Ø¯ÛŒØ¯
        create_new_account(label, email)
    
    # 2. Ø«Ø¨Øª Ø®Ø±ÛŒØ¯ Gold/Silver Ø¨Ø§ Ù†Ø±Ø® Ø«Ø§Ø¨Øª
    add_purchase(account_id, gold_qty, gold_price)
    add_purchase(account_id, silver_qty, silver_price)
```

```python
def process_sale():
    # 1. Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¢Ú©Ø§Ù†Øª Ùˆ Ù†Ø±Ø® Ø®Ø±ÛŒØ¯
    account = get_account(label)
    purchases = get_purchases(account.id, sale_type)
    
    # 2. Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¨Ù‡Ø§ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡
    avg_price = sum(p.price_per_unit * p.quantity) / sum(p.quantity)
    cost_basis = quantity * avg_price
    
    # 3. Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø³ÙˆØ¯
    profit = sale_amount - cost_basis
    
    # 4. Ø«Ø¨Øª ÙØ±ÙˆØ´
    create_sale(
        label=label,
        quantity=quantity,
        platform=platform,
        sale_rate=rate,
        sale_amount=sale_amount,
        cost_basis=cost_basis,
        profit=profit,
        customer=customer
    )
    
    # 5. Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¨Ø¯Ù‡ÛŒ Ù…Ø´ØªØ±ÛŒ
    update_customer_balance(customer, sale_amount)
```

```python
def process_payment():
    # 1. ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ Ø¯Ù„Ø§Ø± (Ø§Ú¯Ø± ØªÙˆÙ…Ø§Ù†)
    if currency == 'TOMAN':
        amount_usd = amount / exchange_rate
    else:
        amount_usd = amount
    
    # 2. Ø«Ø¨Øª Ù¾Ø±Ø¯Ø§Ø®Øª
    create_payment(
        customer=customer,
        amount=amount_usd,
        currency=currency,
        receipt=receipt_no
    )
    
    # 3. Ú©Ø§Ù‡Ø´ Ø¨Ø¯Ù‡ÛŒ Ù…Ø´ØªØ±ÛŒ
    reduce_customer_balance(customer, amount_usd)
```

---

## ğŸ“Š UI Components (Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒØ¨Ù†Ø¯ÛŒ)

### âœ… Phase 1: Core System (Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø±)
- [x] Import Ø§Ø² Google Sheets
- [x] Field Mapping
- [x] Auto-detect Ø¢Ú©Ø§Ù†Øªâ€ŒÙ‡Ø§
- [x] Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø³ÙˆØ¯ Ù¾Ø§ÛŒÙ‡
- [x] Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ø³Ø§Ø¯Ù‡

### ğŸš§ Phase 2: Ø¬Ø¯ÙˆÙ„ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ù…Ù„
```
Priority: HIGH

Features:
1. DataGrid Ø¨Ø§ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ù¾ÙˆÛŒØ§:
   - Label, Email, Supplier
   - Gold: Qty/Cost [ğŸ“Š Details]
   - Silver: Qty/Cost [ğŸ“Š Details]
   - Roblox: [N sales ğŸ”µ]
   - Apple: [N sales ğŸ”µ]
   - ... (Ù‡Ø± Ù¾Ù„ØªÙØ±Ù… ÛŒÚ© Ø³ØªÙˆÙ†)

2. Click Handlers:
   [ğŸ“Š] â†’ Dialog: Ù„ÛŒØ³Øª Ø®Ø±ÛŒØ¯Ù‡Ø§
   [ğŸ”µ] â†’ Dialog: Ù„ÛŒØ³Øª ÙØ±ÙˆØ´â€ŒÙ‡Ø§ Ø¨Ø§ Ø¬Ø²Ø¦ÛŒØ§Øª
   
3. Summary Row:
   - Ú©Ù„ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ
   - Ú©Ù„ ÙØ±ÙˆØ´
   - Ú©Ù„ Ø³ÙˆØ¯
   - Profit Margin
```

### ğŸš§ Phase 3: Ø³ÛŒØ³ØªÙ… Ù…Ø´ØªØ±ÛŒ Ùˆ Ù¾Ø±Ø¯Ø§Ø®Øª
```
Priority: HIGH

Features:
1. Ø¬Ø¯ÙˆÙ„ Ù…Ø´ØªØ±ÛŒØ§Ù†:
   - Code, Name, Phone, Email
   - Total Purchases
   - Total Spent (Ø¨Ø¯Ù‡Ú©Ø§Ø±)
   - Total Paid (Ø¨Ø³ØªØ§Ù†Ú©Ø§Ø±)
   - Balance (Ù…Ø§Ù†Ø¯Ù‡)

2. Ú¯Ø±Ø¯Ø´ ØªÙØµÛŒÙ„ÛŒ Ù…Ø´ØªØ±ÛŒ:
   - ØªØ§Ø±ÛŒØ® | Ø´Ø±Ø­ | Ø¨Ø¯Ù‡Ú©Ø§Ø± | Ø¨Ø³ØªØ§Ù†Ú©Ø§Ø± | Ù…Ø§Ù†Ø¯Ù‡
   - ÙÛŒÙ„ØªØ± Ø¨Ù‡ ØªØ§Ø±ÛŒØ®
   - Export

3. Ø«Ø¨Øª Ù¾Ø±Ø¯Ø§Ø®Øª:
   - Ù…Ø¨Ù„Øº (Tether/Toman)
   - Ù†Ø±Ø® ØªØ¨Ø¯ÛŒÙ„
   - Ø´Ù…Ø§Ø±Ù‡ ÙÛŒØ´
   - ØªØ§Ø±ÛŒØ®
```

### ğŸš§ Phase 4: Template System Ø¨Ø±Ø§ÛŒ Export
```
Priority: MEDIUM

Features:
1. Template Builder:
   - Ø§Ù†ØªØ®Ø§Ø¨ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ (Drag & Drop)
   - ØªØ±ØªÛŒØ¨ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§
   - Format Ú©Ø±Ø¯Ù† (Ø¹Ø¯Ø¯ØŒ ØªØ§Ø±ÛŒØ®ØŒ Ø§Ø±Ø²)
   - Filter Ùˆ Sort

2. Template Manager:
   - Ø°Ø®ÛŒØ±Ù‡ Template
   - Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Template
   - Share Template

3. Export Formats:
   - Excel (Ø¨Ø§ Ú†Ù†Ø¯ Sheet)
   - CSV
   - PDF (Ø¨Ø§ Chart)
```

### ğŸš§ Phase 5: Dashboard ØªØ¹Ø§Ù…Ù„ÛŒ
```
Priority: LOW

Features:
1. Charts:
   - ÙØ±ÙˆØ´ Ø¨Ù‡ ØªÙÚ©ÛŒÚ© Ù¾Ù„ØªÙØ±Ù… (Pie Chart)
   - Ø±ÙˆÙ†Ø¯ ÙØ±ÙˆØ´ (Line Chart)
   - Ø³ÙˆØ¯ Ø¨Ù‡ ØªÙÚ©ÛŒÚ© Ù…Ø§Ù‡ (Bar Chart)

2. KPIs:
   - ÙØ±ÙˆØ´ Ø§Ù…Ø±ÙˆØ²/Ù‡ÙØªÙ‡/Ù…Ø§Ù‡
   - Ø³ÙˆØ¯ Ø§Ù…Ø±ÙˆØ²/Ù‡ÙØªÙ‡/Ù…Ø§Ù‡
   - ØªØ¹Ø¯Ø§Ø¯ Ù…Ø´ØªØ±ÛŒØ§Ù† ÙØ¹Ø§Ù„
   - Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† ÙØ±ÙˆØ´

3. Quick Filters:
   - Ø¨Ø§Ø²Ù‡ ØªØ§Ø±ÛŒØ®
   - Ù¾Ù„ØªÙØ±Ù…
   - Ù…Ø´ØªØ±ÛŒ
```

---

## ğŸ¯ Ø§ÙˆÙ„ÙˆÛŒØª Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÙÙˆØ±ÛŒ

### 1. Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø­Ø§Ø³Ø¨Ø§Øª (Ø§Ù„Ø§Ù†) âš¡
```python
# Ø¯Ø± DynamicDataProcessor
def process_sales_with_cost_basis():
    """
    Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ù‚ÛŒÙ‚ Ø¨Ù‡Ø§ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡:
    - Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù†Ø±Ø® Ø®Ø±ÛŒØ¯ Ø¢Ú©Ø§Ù†Øª
    - Ù…Ø­Ø§Ø³Ø¨Ù‡ cost_basis = quantity Ã— Ù†Ø±Ø® Ø®Ø±ÛŒØ¯
    - Ù…Ø­Ø§Ø³Ø¨Ù‡ profit = sale_amount - cost_basis
    """
```

### 2. Ø¬Ø¯ÙˆÙ„ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ù…Ù„ (Ù‡ÙØªÙ‡ Ø¢ÛŒÙ†Ø¯Ù‡) ğŸ“Š
```python
# ÙˆÛŒØ¬Øª Ø¬Ø¯ÛŒØ¯: InventoryManagementWidget
class InventoryManagementWidget(QWidget):
    def __init__(self):
        # DataGrid Ø¨Ø§ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ù¾ÙˆÛŒØ§
        # Click handlers Ø¨Ø±Ø§ÛŒ [ğŸ“Š] Ùˆ [ğŸ”µ]
        # Dialogs Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª
```

### 3. Ø³ÛŒØ³ØªÙ… Ù…Ø´ØªØ±ÛŒ (Ø¯Ùˆ Ù‡ÙØªÙ‡ Ø¢ÛŒÙ†Ø¯Ù‡) ğŸ‘¥
```python
# Ø¬Ø¯ÙˆÙ„ payments
# Ù…Ø­Ø§Ø³Ø¨Ù‡ balance
# Ú¯Ø±Ø¯Ø´ ØªÙØµÛŒÙ„ÛŒ
```

---

## ğŸ“ Ù†Ú©Ø§Øª Ù…Ù‡Ù…

### âš ï¸ Ù†Ú©ØªÙ‡ 1: Ø´Ø§Ø±Ú˜ Ù…Ø¬Ø¯Ø¯ Ø¢Ú©Ø§Ù†Øª
```python
# Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… ØªØ´Ø®ÛŒØµ:
if email_exists and label_new:
    # Ø§ÛŒÙ† Ø´Ø§Ø±Ú˜ Ù…Ø¬Ø¯Ø¯ Ø§Ø³Øª!
    # Label Ø¬Ø¯ÛŒØ¯ Ø¨Ø³Ø§Ø²: A1055-R2
    new_label = f"{base_label}-R{recharge_count + 1}"
```

### âš ï¸ Ù†Ú©ØªÙ‡ 2: Ù†Ø±Ø® ØªØ¨Ø¯ÛŒÙ„ Toman
```python
# Ù‡Ø± Ù¾Ø±Ø¯Ø§Ø®Øª Ø¨Ø§ÛŒØ¯ Ù†Ø±Ø® ØªØ¨Ø¯ÛŒÙ„ Ø®ÙˆØ¯Ø´ Ø±Ø§ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
payment = Payment(
    amount=500000,  # ØªÙˆÙ…Ø§Ù†
    currency='TOMAN',
    exchange_rate=65000,  # Ù†Ø±Ø® Ø±ÙˆØ²
    amount_usd=500000 / 65000  # 7.69 Ø¯Ù„Ø§Ø±
)
```

### âš ï¸ Ù†Ú©ØªÙ‡ 3: ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ Ø¯Ø§Ø¯Ù‡
```python
# Source of Truth = Google Sheets
# Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø± = Read-Only View + Reports
# ÙˆÛŒØ±Ø§ÛŒØ´ ÙÙ‚Ø· Ø¯Ø± Sheets â†’ Re-Import
```

---

## âœ… Checklist Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ

### Ø§Ù…Ø±ÙˆØ²:
- [x] Database Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ø´Ø¯
- [x] Ø®Ø·Ø§Ù‡Ø§ÛŒ Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ø¨Ø±Ø·Ø±Ù Ø´Ø¯
- [x] Ø§Ù„Ø²Ø§Ù…Ø§Øª Ù†Ù‡Ø§ÛŒÛŒ Ù…Ø³ØªÙ†Ø¯ Ø´Ø¯
- [ ] Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø³ÙˆØ¯
- [ ] Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¬Ø¯ÙˆÙ„ `payments`

### Ø§ÛŒÙ† Ù‡ÙØªÙ‡:
- [ ] Ø¬Ø¯ÙˆÙ„ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ù…Ù„
- [ ] Dialog Ø¬Ø²Ø¦ÛŒØ§Øª Ø®Ø±ÛŒØ¯
- [ ] Dialog Ø¬Ø²Ø¦ÛŒØ§Øª ÙØ±ÙˆØ´
- [ ] ØªØ³Øª Ú©Ø§Ù…Ù„ Ø¨Ø§ Ø¯Ø§Ø¯Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ

### Ù‡ÙØªÙ‡ Ø¨Ø¹Ø¯:
- [ ] Ø³ÛŒØ³ØªÙ… Ù…Ø´ØªØ±ÛŒ
- [ ] Ø«Ø¨Øª Ù¾Ø±Ø¯Ø§Ø®Øª
- [ ] Ú¯Ø±Ø¯Ø´ ØªÙØµÛŒÙ„ÛŒ
- [ ] Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø¯Ù‡ÛŒ/Ø·Ù„Ø¨

---

## ğŸš€ Ø´Ø±ÙˆØ¹ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ

Ø§Ù„Ø§Ù† Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…:
1. âœ… Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Model Ø¨Ø±Ø§ÛŒ `Payment`
2. âœ… Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø³ÙˆØ¯ Ø¯Ø± `DynamicDataProcessor`
3. âœ… Ø³Ø§Ø®Øª `InventoryManagementWidget` Ù¾Ø§ÛŒÙ‡

Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ§ÛŒÙ…ØŸ ğŸ¯
